@{
    ViewBag.Title = "EditEmployee";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

 <script src="~/Scripts/Admin/validation.js"></script>
<script src="~/Scripts/LTE/ui/date.format.js"></script>
    <label for="lblSearch">Enter Bus Number</label>
    <div class="col-md-12" id="searchContainer">
        <input type="text" id="txtBusSearch" accesskey="a" class="form-control" style="width:80%;display:inline-block">
        <input type="submit" id="btnBusSearch" value="Search" class="pull-right btn btn-primary" />
        </div>
   
 
<div id="Busdetails" class="" style="margin-top: 79px;">

    <div class="col-md-12 marT20">
        <div class="panel panel-default box-success">
            <div class="panel-body">
                <div class="col-md-6">

                    <div class="form-group">
                        <label for="lblSearch">Bus Number:</label>
                        <span id="lblBusNumber" for="lblfirstname"></span>
                    </div>
                    <div class="form-group">
                        <label for="lblSearch">Owner Name :</label>
                        <span id="lblOwnerName"></span>
                    </div>
                    <div class="form-group">
                        <label for="lblSearch">Father Name:</label>
                        <span id="lblFatherName"></span>
                    </div>
                    <div class="form-group">
                        <label for="lblSearch">Address :</label>
                        <span id="lblAddress"></span>
                    </div>
                </div>
                <div class="col-md-6">

                    <div class="form-group">
                        <label for="lblSearch">Permit Number :</label>
                        <span id="lblPermitNumber"></span>
                    </div>
                    <div class="form-group">
                        <label for="lblMember">Member of Company From:</label>
                        <span id="lblMember"></span>
                    </div>
                    <div class="form-group">
                        <label for="lblSearch">Set:</label>
                        <span id="lblSet"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>




    <div class="col-md-12 marT20">
        <div class="panel panel-default box-success">
            <div class="panel-body">
                <div class="col-md-4">
                    <div class="form-group">
                        <label for="lblSearch">EntryDeposit:</label>
                        <span id="lblEntryDeposit"></span>
                    </div>

                    <div class="form-group">
                        <label for="lblSearch">Caution Money:</label>
                        <span id="lblCautionMoney"></span>
                    </div>

                    <div class="form-group">
                        <label for="lblSearch">Remaining Money:</label>
                        <span id="lblRemainingMoney"></span>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label for="lblSearch">Recipt Number:</label>
                        <span id="lblEntryDepositReciptNo"></span>
                    </div>
                    <div class="form-group">
                        <label for="lblSearch">
                            Recipt Number:
                        </label>
                        <span id="lblCautionMoneyReciptNo"></span>
                    </div>
                    <div class="form-group">
                        <label for="lblSearch">
                            EMI:
                        </label>
                        <span id="lblEmi"></span>
                    </div>
                </div>
                <div class="col-md-4">
                   
                        <div class="form-group">
                            <label for="lblSearch" style="    margin-top: 40px;">
                                Caution Money DepositDate:
                            </label>
                            <span id="lblCautionMoneyDate"></span>
                        </div>
                    </div>
            </div>
        </div>
    </div>




 

    <div class="col-md-12 marT20">
     
        <div class="col-md-6">
            <div class="panel panel-default box-success">
                <div class="panel-body">
                    <div class="form-group">
                        <label for="lblSearch">Bus guarantor1 Name :</label>
                        <span id="lblguarantor1Name"></span>
                    </div>
                    <div class="form-group">
                        <label for="lblSearch">guarantor1 Bus Number *:</label>
                        <span id="lblguarantor1Bus"></span>
                    </div>
                    <div class="form-group">
                        <label for="lblSearch">Bus guarantor2 Name :</label>
                        <span id="lblguarantor2Name"></span>
                    </div>
                    <div class="form-group">
                        <label for="lblSearch">guarantor2 Bus Number :</label>
                        <span id="lblguarantor2Bus"></span>
                    </div>





                </div>

                </div>
            </div>
                <div class="col-md-6">
                    <div class="panel panel-default box-success">
                        <div class="panel-body">
                            <div class="form-group">
                                <div class="form-group">
                                    <label for="lblSearch">Dipoo :</label>
                                    <span id="lblDipoo"></span>
                                </div>
                                <div class="form-group">
                                    <label for="lblSearch">Registration Number :</label>
                                    <span id="lblRegistrationNo"></span>
                                </div>
                                <div class="form-group">
                                    <label for="lblSearch">Model :</label>
                                    <span id="lblModel"></span>
                                </div>
                                <label for="lblSearch">No Of Seats :</label>
                                <span id="lblNoOfSeats"></span>
                            </div>

                            <div class="form-group">
                                <label for="lblSearch">Chassis Number :</label>
                                <span id="lblChassisNo"></span>
                            </div>
                            <div class="form-group">
                                <label for="lblSearch">Engine Number :</label>
                                <span id="lblEngineNo"></span>
                            </div>
                            <div class="form-group">
                                <label for="lblSearch">
                                    <div class="form-group">
                                        <label for="lblSearch">Toll Tax:</label>
                                        <span id="lblTollTax"></span>
                                    </div>
                                </label>
                                <span id="lblguarantor2Bus"></span>
                            </div>
                            <div class="form-group">
                                <label for="lblSearch">Fitness :</label>
                                <span id="lblFitness"></span>
                            </div>
                            <div class="form-group">
                                <label for="lblSearch">Insorance Company:</label>
                                <span id="lblInsorance"></span>
                            </div>
                            <div class="form-group">
                                <label for="lblSearch">Insorance Company Address:</label>
                                <span id="lblInsoranceCompanyAddress"></span>
                            </div>
                            <div class="form-group">
                                <label for="lblSearch">Valid :</label>
                                <span id="lblValid"></span>
                            </div>


                        </div>
                    </div>
                    </div>
        </div></div>


                    <div id="myModal" class="modal fade" style="padding-top:129px">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                    <h4 class="modal-title">Not Found!!</h4>
                                </div>
                                <div class="modal-body">

                                    <p>Employee Deatil Not Found<span id="spnEmpID"></span></p>

                                </div>
                            </div>
                        </div>
                    </div>

                    <script type="text/javascript">


                        $('#btnBusSearch').click(function () {
                            var abc = validateTextBoxes('searchContainer');
                            if (abc == true) {
                                debugger;
                                var busnumver = $('#txtBusSearch').val().trim();
                                $.ajax({
                                    type: 'GET',
                                    data: { 'BusNumber': busnumver },
                                    url: "/Buses/GetBusDetails",

                                    success: function (data) {
                                        if (data != "") {
                                            $("#Busdetails").removeClass("hidden");
                                            setControlValue("lblBusNumber", data[0].bus_number)
                                            setControlValue("lblOwnerName", data[0].bus_owner_name)
                                            setControlValue("lblMember", data[0].FatherName)
                                            setControlValue("lblPermitNumber", data[0].permit_number)
                                            setControlValue("lblDipoo", data[0].bus_operating_center)
                                            setControlValue("lblRegistrationNo", data[0].registration_number)
                                            setControlValue("lblModel", data[0].model)
                                            setControlValue("lblNoOfSeats", data[0].seats)
                                            setControlValue("lblChassisNo", data[0].chesis_number)
                                            setControlValue("lblEngineNo", data[0].engine_number)
                                            setControlValue("lblFitness", data[0].fitness)
                                            setControlValue("lblInsorance", data[0].company_name)
                                            setControlValue("lblValid", data[0].validity)


                                            setControlValue("lblTollTax", data[0].road_tax)
                                            setControlValue("lblFatherName", data[0].owner_father_name)
                                            setControlValue("lblInsoranceCompanyAddress", data[0].company_address)
                                            setControlValue("lblAddress", data[0].owner_address)
                                            setControlValue("lblSet", data[0].model)
                                            setControlValue("lblEntryDeposit", data[0].entry_amount)
                                            setControlValue("lblEntryDepositReciptNo", data[0].entry_reciept_number)

                                            setControlValue("lblCautionMoney", data[0].security_amount)
                                            setControlValue("lblCautionMoneyReciptNo", data[0].security_money_reciept)
                                            setControlValue("lblCautionMoneyDate", data[0].payment_date)
                                            setControlValue("lblRemainingMoney", data[0].remaining_amount)



                                            setControlValue("lblguarantor1Name", data[0].gauranter1)
                                            setControlValue("lblguarantor2Name", data[0].gauranter2)
                                            setControlValue("lblguarantor1Bus", data[0].gauranter1_bus)
                                            setControlValue("lblguarantor2Bus", data[0].gauranter2_bus)
                                        }
                                        else {
                                            $("#myModal").modal('show');
                                        }
                                    }

                                });
                            }
                        });
                    </script>
