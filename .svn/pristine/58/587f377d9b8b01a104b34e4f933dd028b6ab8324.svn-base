@{
    ViewBag.Title = "BusInformation";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script src="~/Scripts/Admin/validation.js"></script>
<script src="~/Scripts/LTE/ui/jquery-ui.js"></script>
<link href="~/Scripts/LTE/ui/jquery-ui.css" rel="stylesheet" />
<script src="~/Scripts/LTE/ui/date.format.js"></script>
<link href="~/Content/jquery.loader.css" rel="stylesheet" />
<script src="~/Scripts/GmouScripts/jquery.loader.js"></script>
<div id="busInformation">
    <div class="col-md-12 marT20">
        <div class="box box-success">
            <div class="boxHeading">
                <b>Bus Detail</b>
                <a href="" class="pull-right hide" id="ancAddNewStore" title="Add a Store"><i class="fa fa-plus"></i> Add Related Account</a>
            </div>
            <div class="box-body">
                <table id="tblAccount" style="width:100%" class="tbl20 alignROdd">
                    <tbody>
                        <tr>
                            <td>
                                bus number  
                            </td>
                            <td>
                                <select>
                                    <option value="1">Uk-121233</option>
                                    <option value="2">Uk-121233</option>
                                    <option value="3">Uk-121233</option>
                                    <option value="4">Uk-121233</option>
                                </select>
                            </td>
                            <td>
                                Owner Name  
                            </td>
                            <td>
                                <select>
                                    <option value="1">Ram Singh</option>
                                    <option value="2"> hari Singh</option>
                                    <option value="3">Ab Singh</option>
                                    <option value="4">cd Singh</option>
                                </select>

                            </td>
                        </tr>
                       
                        
                        <tr>
                            <td class="alignR">
                                Dipoo  
                            </td>
                            <td>
                                <select>
                                    <option value="1">Kotdwar</option>
                                    <option value="2"> Pauri</option>
                                    <option value="3">Srinagar</option>
                                    <option value="4">RudarPrayag</option>
                                </select>

                            </td>
                            <td>
                                Detail  
                            </td>
                            <td>
                                <input type="text" id="txtDetail" />
                            </td>

                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="col-md-12 marT20">
        
            <div class="box box-success">
                <div class="boxHeading">
                    <b> Bus Detail</b>
                    <a href="" class="pull-right hide" id="ancAddNewStore" title="Add a Store"><i class="fa fa-plus"></i> Add Related Account</a>
                </div>
                <div class="box-body">
                    <table id="tblAccount" style="width:100%" class="tbl20 alignROdd">
                        <tbody>
                            <tr>
                                <td>
                                    Date
                                </td>
                                <td>
                                    <input type="text" id="txtDate" class="datepicker" />
                                    <img src="~/Images/calendar-icon-blue.png" style="margin-left: -4px;" />
                                </td>
                                <td>
                                    
                                </td>
                                <td>
                                  
                                </td>

                            </tr>
                            <tr>
                                <td>
                                    Way Bill Book No  <input type="checkbox" name="checkbox" />
                                </td>
                                <td>
                                    <input type="text" id="txtVbookNo" />
                                </td>
                                <td>
                                    Serial No
                                </td>
                                <td>
                                    <input type="text" id="txtVSerialNo" />
                                </td>

                            </tr>
                            <tr>
                                <td>
                                    Ticket Book No
                                </td>
                                <td>
                                    <input type="text" id="txtTktBookNo" />
                                </td>
                                <td>
                                    Serial No
                                </td>
                                <td>
                                    <input type="text" id="txtTicketSerialNo" />
                                </td>

                            </tr>
                            <tr>
                                <td>
                                    Arrival
                                </td>
                                <td>
                                    <input type="text" id="txtArrival" />
                                </td>
                                <td>
                                    Dearture
                                </td>
                                <td>
                                    <input type="text" id="txtDearture" />
                                </td>

                            </tr>
                            <tr>
                                <td>
                                    Money
                                </td>
                                <td>
                                    <input type="text" id="txtMoney" />
                                </td>
                                <td>
                                    Reason
                                </td>
                                <td>
                                    <textarea id="txtReason" rows="3"></textarea>
                                </td>
                            </tr>
                        </tbody>
                    </table>
               
                </div>
            </div>
    </div>
    <div class="box-footer clearfix" style="padding-right:30px">
        <input type="button" id="btnSaveBusInformation" value="Save" class="pull-left btn btn-primary" onclick="saveBusesDetail()" style="padding:4px 22px 6px 15px;margin-left: 40px;" />
    </div>
</div>
<script type="text/javascript">
    $(function () {
        $(".datepicker").datepicker();
    
    });
    $(document).ready(function () {
  
        $("#checkbox").change(function () {
            if (this.checked) {
                alert("a");
            }
        });
    });
   
    @*function fillPermit() {
        setControlValue("txtPermitNo2", getControlValueN("txtPermitNumber"))
    }
    function selectDipoo() {
        setControlValue("txtDipoo", getControlValueN("txtSet"))
        setControlValue("txtBusDipoo", document.getElementById('txtDipoo').options[document.getElementById('txtDipoo').selectedIndex].text)
    }

    function saveBusesDetail()
    {
        var valid = validateTextBoxes('busInformation');
        if (valid == true)
        {
            var obj = new Object();
            obj.bus_number = getControlValueN("txtBusNumber");
            obj.permit_number = getControlValueN("txtPermitNumber");
            obj.bus_owner_name = getControlValueN("txtOwnerName");
            obj.owner_father_name = getControlValueN("txtFatherName");
            obj.owner_address = getControlValueN("txtAddress");
            obj.registration_date = getControlValueN("txtMember");

            obj.setid = getControlValueN("txtSet");
            obj.bus_operating_center = getControlValueN("txtDipoo");


            obj.entry_amount = getControlValueN("txtEntryDeposit");
            obj.entry_reciept_number = getControlValueN("txtReciptNo");
            obj.security_amount = getControlValueN("txtCautionMoney");
            obj.security_money_reciept = getControlValueN("txtCautionMoneyReciptNo");
            obj.payment_date = getControlValueN("txtCautionMoneyDate");
            obj.remaining_amount = getControlValueN("txtRemainingMoney");
            obj.road_tax = getControlValueN("txtTollTax");
            obj.gauranter1 = getControlValueN("txtguarantor1Name");
            obj.gauranter1_bus = getControlValueN("txtguarantor1BusNumber");
            obj.gauranter2 = getControlValueN("txtguarantor2Name");
            obj.gauranter2_bus = getControlValueN("txtguarantor2BusNumber");
            obj.registration_number = getControlValueN("txtRegistrationNo");
            obj.model = getControlValueN("txtModel");
            obj.seats = getControlValueN("txtNoOfSeats");
            obj.chesis_number = getControlValueN("txtChassisNo");
            obj.engine_number = getControlValueN("txtEngineNo");
            obj.fitness = getControlValueN("txtFitness");
            obj.company_name = getControlValueN("txtInsuranceName");
            obj.company_address = getControlValueN("txtInsuranceaddress");
            obj.validity = getControlValueN("txtValid");
            obj.emi = getControlValueN("txtEmi");
            obj.validity = getControlValueN("txtValidity");

            //    callServiceMethod("{'or':" + JSON.stringify(obj) + "'}", "", "SaveEmpolyee", successMethodAfterInsertUpdate, "", "",
            //                                    false, "", true, saveEmployee_scs, "", "", "");
            //}

            //function saveEmployee_scs() {
            //    alert('success')
            //}
            $.ajax({
                type: "POST",
                url: '/Buses/SaveBusDetail',
                data: JSON.stringify(obj),

                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (data) {

                    alert("Done");
                    $("#myModal").modal('show');
                    //if (successMethodToCall != "") {
                    //    successMethodToCall(data, rowIdToDelete, rowParentContainerId, shallLoadTemplete, templeteToLoad, shallCallOtherMethod, otherMethodToCall, parameter1InOtherMethod, parameter2InOtherMethod, parameter3InOtherMethod);
                    //}
                    //else if (shallCallOtherMethod) {
                    //    if (otherMethodToCall != "") {
                    //        otherMethodToCall(parameter1InOtherMethod, parameter2InOtherMethod, parameter3InOtherMethod, data);
                    //    }
                    //}
                },
                error: OnError
            });
        }
    }


    $(document).ready(function () {


        var id = '@ViewBag.busId'
        if (id != "") {


            $.ajax({
                type: 'GET',
                data: { 'busID': id },
                url: "/Buses/EditBusDetails",
                success: function (data) {
                    $('body').loader('show');

                    debugger;

                    $('#IDhidden').val(id);
                    var paymentDate = new Date(parseInt(data.payment_date.substr(6))).format("dd/mm/yyyy")
                    var member = new Date(parseInt(data.registration_date.substr(6))).format("dd/mm/yyyy")
                    var valid = new Date(parseInt(data.validity.substr(6))).format("dd/mm/yyyy")

                    setControlValue("txtBusNumber", data.bus_number);
                    setControlValue("txtPermitNumber", data.permit_number);
                    setControlValue("txtOwnerName", data.bus_owner_name);
                    setControlValue("txtFatherName", data.owner_father_name);
                    setControlValue("txtAddress", data.owner_address);
                    setControlValue("txtMember", member);
                    setControlValue("txtSet", data.setid);
                    setControlValue("txtDipoo", data.bus_operating_center);
                    setControlValue("txtBusDipoo", data.bus_operating_center);
                    setControlValue("txtEntryDeposit", data.entry_amount);
                    setControlValue("txtReciptNo", data.entry_reciept_number);
                    setControlValue("txtCautionMoney", data.security_amount);
                    setControlValue("txtCautionMoneyReciptNo", data.security_money_reciept);
                    setControlValue("txtCautionMoneyDate", paymentDate);
                    setControlValue("txtRemainingMoney", data.remaining_amount);
                    setControlValue("txtTollTax", data.road_tax);
                    setControlValue("txtguarantor1Name", data.gauranter1);
                    setControlValue("txtguarantor1BusNumber", data.gauranter1_bus);
                    setControlValue("txtguarantor2Name", data.gauranter2);
                    setControlValue("txtguarantor2BusNumber", data.gauranter2_bus);
                    setControlValue("txtRegistrationNo", data.registration_number);
                    setControlValue("txtModel", data.model);
                    setControlValue("txtNoOfSeats", data.seats);
                    setControlValue("txtChassisNo", data.chesis_number);
                    setControlValue("txtEngineNo", data.engine_number);
                    setControlValue("txtFitness", data.fitness);
                    setControlValue("txtInsorance", data.Insorance);
                    setControlValue("txtValid", valid);
                    setControlValue("txtEmi", data.emi);
                    $('body').loader('hide');

                }
            });

        }
    });*@
</script>